# bitmex config recorded in application.private.config
# for testnet:
# bitmex.url = "https://testnet.bitmex.com"
# bitmex.wsUrl = "wss://testnet.bitmex.com/realtime?subscribe=orderBook10:XBTUSD,trade:XBTUSD,instrument:.BXBT,funding:XBTUSD"
# for real thing:
# bitmex.url = "https://www.bitmex.com"
# bitmex.wsUrl = "wss://www.bitmex.com/realtime?subscribe=orderBook10:XBTUSD,trade:XBTUSD,instrument:.BXBT,funding:XBTUSD"
# ...add credentials!
# bitmex.apiKey = "XXX"
# bitmex.apiSecret = "YYY"

# akka infrastructure
akka.loggers = ["akka.event.slf4j.Slf4jLogger"]
akka.loglevel = "DEBUG"
akka.logging-filter = "akka.event.slf4j.Slf4jLoggingFilter"
akka.http.client.websocket.periodic-keep-alive-max-idle = 9 s
# akka.http.host-connection-pool.idle-timeout = 300 s

# graphite connection - comment out if don't want to send metrics
graphite.host = localhost
graphite.port = 2003

# bot specifics
bot.restSyncTimeoutMs = 9000         # 9 secs, to fall under 10 sec akka timeout
bot.runType = live           # indicates running on live data, but not trading
bot.useSynthetics = false              # indicates whether to generate OrderBookSummaries out of Trades, if only using Trades feed...

bot.bots.XBTUSD {
  namespace = "moon.xbtusd"
  wssSubscriptions = "orderBook10:XBTUSD,order:XBTUSD,trade:XBTUSD"  # or in full: orderBook10:XBTUSD,trade:XBTUSD,instrument:.BXBT,funding:XBTUSD,order:XBTUSD
  drainPriceDeltaPct = 0.005
  drainMinPosition = 5
#   # Desired config
#   takeProfitPerc = 0.001
#   tiers = [
#     [0.995, 700],
#     [0.99,  600],
#     [0.985, 400],
#     [0.98,  400],
#     [0.96,  200],
#     [0.93,  200],
#     [0.85,  200],
#   ],
  # Important, keep lot sizes multiples of 100! https://www.reddit.com/r/BitMEX/comments/nq2cyy/create_order_api_invalid_leavesqty/
  # Training config
  takeProfitPerc = 0.0005
  tiers = [
    [0.998, 700],
    [0.996, 600],
    [0.994, 500],
    [0.99,  400],
    [0.98,  300],
    [0.96,  200],
    [0.93,  100],
  ],
  shouldDrain = true
  # trading strategy
  strategy.selection = permabull       # running strategy, can be: weighted, bbands, rsi, macd, macdoverma, indecreasing, ma...
  strategy.permabull.blah = 1          # FIXME: workaround for empty config...
}



############### Old config ###############
# bot.backtestEventDataDir = "/Users/konrad/MyDocuments/bitmex/data/stage/raw" # feeds events from data files, with simulated trading
# bot.backtestCsvDir = "/Users/konrad/MyDocuments/bitmex/stage/trade_exploded/XBTUSD"
# bot.backtestCsvDir = "/Users/konrad/MyDocuments/bitmex/stage/trade_exploded-20200701-20200731"
# bot.backtestCandleFile = "/Users/konrad/MyDocuments/bitmex/stage/rollup/XBTUSD/20190101-20200825/1H.csv" # feeds events from candle file
# bot.backtestCandleFile = "/Users/konrad/MyDocuments/bitmex/stage/rollup/XBTUSD/20190101-20190201/1H.csv"
# bot.backtestCandleFile = "/Users/konrad/MyDocuments/bitmex/stage/rollup/XBTUSD/20200801-20200825/1H.csv" # feeds events from candle file
# bot.backtestCandleFile = "/Users/konrad/MyDocuments/bitmex/stage/rollup/XBTUSD/20190626-20200825/1H.csv"

# bot.bots.ETHUSD {
#   namespace = "moon.ethusd"
#   wssSubscriptions = "orderBook10:ETHUSD,order:ETHUSD,trade:ETHUSD"
#   drainPriceDeltaPct = 0.01
#   drainMinPosition = 2
#   takeProfitPerc = 0.01
#   tiers = [
#    [0.99, 10],
#    [0.98, 9],
#    [0.97, 8],
#    [0.96, 7],
#   ],
#   shouldDrain = true
#   # trading strategy
#   strategy.selection = permabull       # running strategy, can be: weighted, bbands, rsi, macd, macdoverma, indecreasing, ma...
#   strategy.permabull.blah = 1          # FIXME: workaround for empty config...
# }

# bot.bots.XBTUSD {
# ....
#     tiers = [
#         [0.995, 50],
#         [0.99, 50],
#         [0.985, 50],
#         [0.98, 50],
#         [0.975, 50],
#         [0.97, 50],
#         [0.965, 50],
#         [0.96, 50],
#         [0.955, 50],
#         [0.95, 50],
#         [0.94, 50],
#         [0.93, 50],
#         [0.92, 50],
#         [0.91, 50],
#         [0.9, 50],
#         [0.88, 50],
#         [0.86, 50],
#         [0.84, 50],
#         [0.82, 50],
#         [0.8, 50],
#         [0.77, 50],
#         [0.74, 50],
#         [0.7, 50],
#         [0.65, 50],
#         [0.6, 50]
#     ]
# }